"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[4551],{59743:function(e,t,n){n.d(t,{$i:function(){return R},D1:function(){return u},Fh:function(){return p},HR:function(){return d},I8:function(){return f},RM:function(){return s},Ur:function(){return m},WS:function(){return S},YO:function(){return E},eA:function(){return i},ec:function(){return l},ky:function(){return _},pQ:function(){return a},zZ:function(){return c}});var r=n(29829),o=n(49733);const u=(0,r.PH)(o.N.STORE_WORKSPACES),i=(0,r.PH)(o.N.UPDATE_WORKSPACE),a=(0,r.PH)(o.N.SET_WORKSPACE_SETTINGS),s=(0,r.PH)(o.N.STORE_TEAM_MEMBERS),c=(0,r.PH)(o.N.UPDATE_TEAM_MEMBER),l=(0,r.PH)(o.N.STORE_USER_PROFILE),d=(0,r.PH)(o.N.STORE_PROJECTS),f=(0,r.PH)(o.N.SET_PROJECTS_LOADING_INDICATOR),R=(0,r.PH)(o.N.STORE_TEAM_SETTINGS),E=(0,r.PH)(o.N.STORE_IS_BRAND_KIT_ONBOARDED),_=(0,r.PH)(o.N.SET_INVITATIONS_LOADING),S=(0,r.PH)(o.N.STORE_INVITATIONS),p=(0,r.PH)(o.N.DELETE_INVITATION),m=(0,r.PH)(o.N.CREATE_INVITATION)},31478:function(e,t,n){n.d(t,{$:function(){return Z},Bv:function(){return P},Fv:function(){return O},Hn:function(){return N},Jn:function(){return D},Kf:function(){return E},Lj:function(){return l},MB:function(){return S},Ml:function(){return m},Nk:function(){return v},Pd:function(){return I},Pf:function(){return d},SN:function(){return K},UY:function(){return y},WO:function(){return B},XG:function(){return H},Xx:function(){return M},Zf:function(){return R},ak:function(){return L},aq:function(){return k},cA:function(){return V},ce:function(){return U},cu:function(){return A},dk:function(){return x},eX:function(){return j},ei:function(){return p},gl:function(){return F},hg:function(){return b},i:function(){return C},kl:function(){return f},ls:function(){return T},mG:function(){return q},ne:function(){return h},rU:function(){return w},uL:function(){return g},zl:function(){return _}});var r=n(35369),o=n(47176),u=n(27182),i=n(36062),a=n(59743),s=n(35849);function c(e,t){e((0,a.ec)({first_name:t.user.first_name,last_name:t.user.last_name,email:t.user.email,user_id:t.user.id,photo_url:t.photo_url,role:t.role,has_email_auth:t.user.has_email_auth,is_staff:t.user.is_staff,enable_ai_voiceover:t.enable_ai_voiceover,two_factor_activated:t.two_factor_activated,mfa_required:t.user.mfa_required,user_projects:t.projects,permissions:t.permissions}))}function l(e){return t=>{c(t,e)}}function d(){return e=>{$.ajax({url:SERVER.URLS.workspaces,method:"GET",beforeSend:e=>{e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},success:t=>{e((0,a.D1)({workspaces:t.results}))},error:(e,t,n)=>{(0,u.Yt)(e,t,n,!1,"Error loading all the workspaces. Please try again.")}})}}function f(e,t){return(n,r)=>new Promise(((o,u)=>{$.ajax({url:SERVER.URLS.workspace_members(t)+"?"+$.param({user_id:e}),method:"DELETE",beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},success:()=>{n(d());const u=(0,s.as)(r(),e);if(u){const e=u.get("workspaces").filter((e=>e!==t));n((0,a.zZ)({profileId:u.get("id"),key:["workspaces"],value:e}))}analytics.track("Team Member Removed From Workspace"),o()},error:(e,t,n)=>{var r;let o="error removing team member from workspace - please try again";null!=e&&null!==(r=e.responseJSON)&&void 0!==r&&r.error&&(o=e.responseJSON.error),u(new Error(o))}})}))}function R(e,t){return(n,r)=>{$.ajax({url:SERVER.URLS.workspace_members(t),method:"PUT",data:{user_id:e},beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},success:o=>{n(d());const u=(0,s.as)(r(),e);if(u){const e=u.get("workspaces").push(t);n((0,a.zZ)({profileId:u.get("id"),key:["workspaces"],value:e}))}analytics.track("Team Member Added To Workspace")},error:()=>{alert("error adding team member to workspace - please try again")}})}}function E(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return(c,l)=>{const d=(0,s.Kg)(l(),t);n&&c((0,a.pQ)({settings:e,workspaceId:t})),$.ajax({url:SERVER.URLS.workspaces_detail(d.get("id")),method:"PATCH",data:e,beforeSend:e=>{e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},success:e=>{c((0,a.eA)({workspace:r.default.fromJS(e),workspaceId:t})),u&&u()},error:e=>{i?i(e):(o.Z.error("There was an error applying the change, please try again."),n&&c((0,a.eA)({workspace:d,workspaceId:t})))}})}}function _(e){return t=>new Promise(((n,r)=>{$.ajax({url:SERVER.URLS.workspaces_detail(e),method:"DELETE",beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},success:()=>{t(d()),analytics.track("Workspace Deleted"),n()},error:()=>{alert("error deleting workspace - please try again"),r(new Error("error deleting workspace"))}})}))}function S(e){return t=>$.ajax({url:SERVER.URLS.workspaces,method:"POST",data:{name:e},beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},success:e=>{t(d()),analytics.track("Workspace Created")}})}function p(){return e=>{$.ajax({url:SERVER.URLS.team_members,method:"GET",beforeSend:e=>{e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},success:t=>{e((0,a.RM)({members:t.results}))},error:(e,t,n)=>{alert("error loading team members - please reload to try again")}})}}function m(e,t){return n=>{$.ajax({url:SERVER.URLS.specific_user_profile(e),method:"PATCH",data:JSON.stringify({role:t}),contentType:"application/json",beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},success:t=>{analytics.track("Team Member role changed",{role:t.role});const r=t.role;n((0,a.zZ)({profileId:e,key:["role"],value:r}))},error:()=>{analytics.track("Error changing team role"),alert("error changing team role - please try again")}})}}function g(){return e=>{$.ajax({url:SERVER.URLS.user_profile,method:"GET",beforeSend:e=>{e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},success:t=>{c(e,t)},error:()=>{alert("Problem loading user information. Please refresh the page and try again.")}})}}function h(e,t){return n=>{if(!(e===t||t.length<1))return $.ajax({url:SERVER.URLS.user_profile,type:"PATCH",data:{name:t},beforeSend:e=>{e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},success:e=>{c(n,e),o.Z.success("Account name changed successfully!"),analytics.track("User profile name changed.")},error:()=>{o.Z.error("There was an error updating the account name. Refresh the page and try again.")}})}}function T(e,t){return n=>{const r=t.toLowerCase();if(!(e.toLowerCase()===r||t.length<1)){if((0,u.Ju)(r))return $.ajax({url:SERVER.URLS.user_profile,type:"PATCH",data:{email:r},beforeSend:e=>{e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},success:e=>{c(n,e),o.Z.success("Email address successfully changed."),analytics.track("User profile email changed.")},error:(e,t,n)=>{var r;null!=e&&null!==(r=e.responseJSON)&&void 0!==r&&r.email?o.Z.error(e.responseJSON.email):o.Z.error("There was an error updating the email. Refresh the page and try again.")}});o.Z.error("Invalid email address. Please provide a valid email address.")}}}function I(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return $.ajax({url:SERVER.URLS.user_profile,type:"PATCH",data:{photo_url:e},beforeSend:e=>{e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)}})}function v(){return $.ajax({url:SERVER.URLS.user_profile,type:"PATCH",data:{remove_photo_url:!0},beforeSend:e=>{e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)}})}function y(e){return $.ajax({url:SERVER.URLS.user_profile,dataType:"json",contentType:"application/json",type:"PATCH",data:JSON.stringify({enable_ai_voiceover:e}),beforeSend:e=>{e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)}})}function P(){return(e,t)=>{e((0,a.I8)({isLoading:!0})),$.ajax({type:"GET",url:SERVER.URLS.projects,dataType:"json",contentType:"application/json",success:t=>{e((0,a.HR)({projects:t.results}))},error:(e,t,n)=>{(0,u.Yt)(e,t,n,!0,"Error loading projects. Please try again.")},complete:()=>{e((0,a.I8)({isLoading:!1}))}})}}function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return $.ajax({url:SERVER.URLS.delete_account,dataType:"json",contentType:"application/json",method:"POST",data:JSON.stringify({editor_email:e,user_id:SERVER.USER.id}),beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)}})}function O(e){return $.ajax({url:SERVER.URLS.user_profile,dataType:"json",contentType:"application/json",type:"PATCH",data:JSON.stringify({two_factor_activated:e}),beforeSend:e=>{e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)}})}function w(e){let{recipient_email:t,selectedWorkspaceId:n,selectedProjectIds:r,role:o,selectedPermissionIds:u}=e;return $.ajax({url:SERVER.URLS.team_invitations,method:"POST",data:JSON.stringify({recipient_email:t,workspaces:[n],projects:o===i.K$.ADMIN?[]:r,role:o,permissions:u}),contentType:"application/json",dataType:"json",beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)}})}function N(e){let{plan_name:t,email:n,coupon:r,with_trial:o,seat_quantity:u}=e;return e=>$.ajax({url:SERVER.URLS.subscription,method:"POST",data:JSON.stringify({plan_name:t,email:n,coupon:r,with_trial:o,seat_quantity:u}),contentType:"application/json",dataType:"json",beforeSend:function(t){t.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN),e(!0)}})}function C(){return $.ajax({url:SERVER.URLS.team_size,method:"GET",contentType:"application/json",dataType:"json",beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)}})}function b(){return $.ajax({url:SERVER.URLS.regenerate_mfa_backup_keys,method:"GET",contentType:"application/json",dataType:"json",beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)}})}function A(e){return $.ajax({url:SERVER.URLS.team_settings,dataType:"json",contentType:"application/json",type:"PATCH",data:JSON.stringify({mfa_required:e}),beforeSend:e=>{e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)}})}function V(){return e=>{$.ajax({url:SERVER.URLS.team_settings,method:"GET",beforeSend:e=>{e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},success:t=>{e((0,a.$i)({...t}))},error:(e,t,n)=>{console.error("loadTeamSettings failed!",e,t,n),(0,u.Yt)(e,t,n,!0,"Problem loading team information. Please refresh the page and try again.")}})}}function L(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t=>{analytics.track("Brand kit onboarding",{navigated_to_page:e}),$.ajax({url:SERVER.URLS.team_brand_kit_onboarding,type:"PATCH",beforeSend:e=>{e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},success:n=>{t((0,a.YO)({is_brand_kit_onboarded:n.is_brand_kit_onboarded})),e&&(window.location=SERVER.URLS.brand_kits_page)},error:(e,t,n)=>{(0,u.Yt)(e,t,n,!0,"Problem loading team information. Please refresh the page and try again.")}})}}function j(){return $.ajax({url:SERVER.URLS.two_factor_authentication,method:"GET",contentType:"application/json",dataType:"json",beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)}})}function F(e){return $.ajax({url:SERVER.URLS.two_factor_authentication,method:"POST",contentType:"application/json",data:JSON.stringify({one_time_password:e}),dataType:"json",beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)}})}const U=(e,t)=>{let n=SERVER.URLS.social_complete(MFA_SESSION_DETAILS.backend);return t&&Object.values(t).length>0&&(n+="?"+new URLSearchParams(t).toString()),$.ajax({url:n,method:"POST",data:e,beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",window.SERVER.CSRF.TOKEN)}})},D=e=>$.ajax({url:SERVER.URLS.send_mfa_recovery_code,method:"POST",contentType:"application/json",data:JSON.stringify({user_email:e}),beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",window.SERVER.CSRF.TOKEN)}}),q=e=>$.ajax({url:SERVER.URLS.email_exists,method:"POST",beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},data:{email:e}});function x(){return e=>{$.ajax({url:SERVER.URLS.team_invitations,method:"GET",beforeSend:()=>{e((0,a.ky)({isLoading:!0}))},success:t=>{e((0,a.WS)({invitations:r.default.fromJS(t.results)})),e((0,a.ky)({isLoading:!1}))},error:(t,n,r)=>{analytics.track("Error Loading Pending Invitations"),(0,u.Yt)(t,n,r,!0,"Error loading team members. Please reload and try again."),e((0,a.ky)({isLoading:!1}))}})}}function H(e){return $.ajax({url:SERVER.URLS.team_invitation_detail(e),method:"DELETE",beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)}})}const K=e=>{let{name:t,email:n,password:r,is_signup:o,invite_uuid:u}=e;return $.ajax({url:SERVER.URLS.email_auth_complete+window.location.search,method:"POST",data:"1"===o?{name:t,email:n,password:r,is_signup:o,invite_uuid:u}:{email:n,password:r,is_signup:o,invite_uuid:u},beforeSend:function(e){e.setRequestHeader("X-CSRFToken",window.SERVER.CSRF.TOKEN)}})},Z=e=>{let{email:t}=e;return $.ajax({url:SERVER.URLS.forgot_submit,method:"POST",data:{email:t.toLowerCase()},beforeSend:function(e){e.setRequestHeader("X-CSRFToken",window.SERVER.CSRF.TOKEN)}})};function M(e,t,n,r){return(o,u)=>{const i=(0,s.$h)(u(),e);let c=i;return c=r?i.concat(n.filter((e=>i.indexOf(e)<0))):i.filter((e=>!n.includes(e))),o((0,a.zZ)({profileId:t,key:["permissions"],value:c})),$.ajax({url:SERVER.URLS.user_permissions_detail(e),method:"PUT",data:JSON.stringify({permissions:c.toArray()}),contentType:"application/json",beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},error:()=>{o((0,a.zZ)({profileId:t,key:["permissions"],value:i})),alert("Error updating permissions - please try again")}})}}function B(e){return t=>{$.ajax({url:SERVER.URLS.team_member_detail(e),method:"DELETE",beforeSend:function(e){e.setRequestHeader("X-CSRFToken",SERVER.CSRF.TOKEN)},success:e=>{analytics.track("Team Member Deleted"),o.Z.success("Team member has been removed!"),t(p()),t(V())},error:()=>{analytics.track("Error Deleting Team Member"),alert("error deleting team member - please try again")}})}}},35849:function(e,t,n){n.d(t,{qu:function(){return M},RT:function(){return O},FH:function(){return le},Sp:function(){return de},aP:function(){return fe},vj:function(){return p},c6:function(){return R},E8:function(){return L},T_:function(){return d},ts:function(){return v},ry:function(){return ee},uL:function(){return oe},cV:function(){return ne},j0:function(){return re},Gv:function(){return te},R8:function(){return f},ds:function(){return k},Jf:function(){return B},Fq:function(){return ae},D2:function(){return G},CL:function(){return ie},V7:function(){return ue},si:function(){return W},cW:function(){return j},Rm:function(){return z},$h:function(){return Q},C4:function(){return T},bV:function(){return g},M2:function(){return P},c_:function(){return Y},sC:function(){return ce},l9:function(){return c},Jr:function(){return Re},ih:function(){return J},Gt:function(){return S},Zb:function(){return m},xO:function(){return b},xP:function(){return E},EN:function(){return C},Bp:function(){return l},ck:function(){return K},yz:function(){return w},Nm:function(){return X},ie:function(){return H},e8:function(){return se},b0:function(){return _},q7:function(){return A},as:function(){return V},EI:function(){return F},Cp:function(){return U},PM:function(){return x},p5:function(){return q},Kg:function(){return y},vI:function(){return N},gL:function(){return $},lJ:function(){return D}});var r=n(35369),o=n(20573),u=n(36062),i=n(45970);function a(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=/\/user\/(.*)\//.exec(window.location.pathname);if(null===t||t.length<2){if(!e)return null;alert("Could not find that channel!"),window.location=SERVER.URLS.dashboard}return t[1]}const s=r.default.List();function c(e,t){return t.get("members").map((e=>e.getIn(["user","id"]))).indexOf(e)>-1}const l=(0,o.P1)((e=>e.account.workspaces),(function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t}),((e,t)=>{const n=new i.ZP(e);if(t){let e=r.default.List();return n.forEach((t=>{t.get("is_member")&&(e=e.push(t.get("id")))})),e}return n.getAllIds()}));function d(e){return e.account?new i.ZP(e.account.workspaces).map((e=>e)):s}const f=(0,o.P1)((e=>{var t;return null===(t=e.account)||void 0===t?void 0:t.workspaces}),(e=>e?new i.ZP(e).filter((e=>e.get("is_member"))):s));function R(e){return e.account&&e.account.projects?new i.ZP(e.account.projects).getAllIds():s}const E=(0,o.P1)((e=>e.account.workspaces),(e=>{let t=r.default.List();return new i.ZP(e).forEach((e=>{t=t.concat(e.get("projects"))})),t}));function _(e,t){var n;return null===(n=new i.ZP(e.account.workspaces).getById(t))||void 0===n?void 0:n.get("projects")}function S(e){const t=new i.ZP(e.account.workspaces);let n=null;return null!==SERVER.USER&&(n=t.query({key:["id"],value:SERVER.USER.workspace_id}).get(0)),n}function p(e){const t=S(e);return t?t.get("members"):r.default.List()}function m(e){const t=S(e);if(t){const n=function(e){const t=a(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]);return new i.ZP(e.account.workspaces).query({key:["slug"],value:t}).get(0)}(e,!1);return n&&!n.equals(t)?n.get("name"):t.get("name")}return""}const g=e=>t=>h(y(t,e));function h(e){return e&&e.get("name")||""}function T(e,t){return I(y(e,t))}function I(e){return!!e&&e.get("enable_editor_advanced_settings")}function v(e){const t=S(e);return!t||!(SERVER.USER.role===u.K$.ADMIN)&&t.get("hide_public_templates")}function y(e,t){return new i.ZP(e.account.workspaces).getById(t)}const P=e=>t=>y(t,e).get("slug")||"",k=(0,o.P1)((e=>e.account.workspaces),((e,t)=>t),((e,t)=>{if(!t)return r.default.Map();const n=new i.ZP(e);return r.default.Map(t.get("workspaces").map((e=>[e,h(n.getById(e))])))})),O=(0,o.P1)((e=>e.account.workspaces),((e,t)=>t),((e,t)=>{if(!t)return r.default.Map();const n=new i.ZP(e);return r.default.Map(t.get("workspaces").map((e=>[e,I(n.getById(e))])))})),w=(0,o.P1)((e=>e.account.workspaces),((e,t)=>t),((e,t)=>new i.ZP(e).getById(t).get("default_visibility")||u.bX.UNLISTED));function N(e,t){return new i.ZP(e.account.workspaces).getById(t)}function C(e){return new i.ZP(e.account.team_members).getAllIds()}function b(e){const t=new i.ZP(e.account.team_members);return 0===t.getAllIds().size?null:t.query({key:["role"],value:u.K$.ADMIN})}function A(e,t){return new i.ZP(e.account.team_members).getById(t)}function V(e,t){return new i.ZP(e.account.team_members).query({key:["user","id"],value:t}).get(0)}function L(e){return new i.ZP(e.account.team_members).map((e=>e))}const j=e=>new i.ZP(e.account.team_members).length,F=(0,o.P1)((e=>e.account.workspaces),(e=>e.account.team_members),((e,t)=>t),((e,t,n)=>{const o=new i.ZP(t),u=new i.ZP(e).getById(n);let a=r.default.List();return o.forEach((e=>{e.getIn(["user","id"])===SERVER.USER.id?a=a.insert(0,e.get("id")):c(e.getIn(["user","id"]),u)&&(a=a.push(e.get("id")))})),a})),U=(0,o.P1)((e=>e.account.workspaces),(e=>e.account.team_members),((e,t)=>t),((e,t,n)=>{const o=new i.ZP(t),u=new i.ZP(e).getById(n);let a=r.default.List();return o.forEach((e=>{e.getIn(["user","id"])===SERVER.USER.id||c(e.getIn(["user","id"]),u)||(a=a.push(e.get("id")))})),a})),D=(e,t,n,o)=>{const a=e=>{const t=""!==e.get("photo_url")&&e.get("photo_url");return e.get("user").set("photo_url",t)};let s=r.default.List();const c=new i.ZP(e).getById(t);c&&(s=c.get("members").filter((e=>e.get("role")===u.K$.ADMIN)).map((e=>a(e))));let l=r.default.List();const d=new i.ZP(n).getById(o);return d&&(l=d.get("members").map((e=>a(e)))),s.concat(l).toSet().toList()},q=(0,o.P1)((e=>e.account.workspaces),((e,t)=>t),(e=>e.account.projects),((e,t,n)=>n),D);function $(e,t){const n=new i.ZP(e.account.workspaces).getById(t);return n?n.get("members").size:1}function x(e){var t,n;return null===(t=e.account)||void 0===t||null===(n=t.user_profile)||void 0===n?void 0:n.user_projects}function H(e){return[e.account.user_profile.first_name,e.account.user_profile.last_name].filter((e=>e.length>0)).join(" ")}function K(e){return e.account.user_profile.first_name||e.account.user_profile.email}function Z(e,t){return 1===new i.ZP(e.account.workspaces).query({key:["id"],value:t}).size}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(t&&Z(e,r)){const r=e.shareVideo.project;if(n===u.K$.ADMIN)return!0;if(!r.isEmpty()&&o===r.get("id"))return!!r.get("members").find((e=>e.getIn(["user","id"])===t))}return!1}function B(e){return e.account.projects_loading_indicator}function X(e){return e.account.user_profile.enable_ai_voiceover}function J(e){return e.account.user_profile.two_factor_activated}function G(e){return e.account.team_settings.mfa_required}function W(e){return e.account.team_settings.saved_templates_count}function z(e){return e.account.team_settings.can_request_video_approval}function Y(e){const t=S(e);return t?t.get("editors_require_approval_to_publish")&&z(e):null}function Q(e,t){if(SERVER.USER.id===t)return e.account.user_profile.permissions;const n=new i.ZP(e.account.team_members).query({key:["user","id"],value:t}).get(0);return n?n.get("permissions"):s}const ee=e=>{const t=S(e);return!!t&&(SERVER.USER.role===u.K$.ADMIN||!!t.get("enable_editor_advanced_settings")&&e.account.user_profile.permissions.includes(u._I.ACCESS_SAVED_TEMPLATES_AND_BRAND_KITS))},te=e=>{const t=S(e);return!!t&&(SERVER.USER.role===u.K$.ADMIN||!!t.get("enable_editor_advanced_settings")&&e.account.user_profile.permissions.includes(u._I.CREATE_AND_MANAGE_PROJECT))},ne=e=>{const t=S(e);if(t){if(SERVER.USER.role===u.K$.ADMIN)return!0;if(!t.get("enable_editor_advanced_settings"))return!1;const n=e.account.user_profile.permissions;return n.includes(u._I.ACCESS_SAVED_TEMPLATES_AND_BRAND_KITS)||n.includes(u._I.ACCESS_FONTS)}return!1},re=e=>{const t=S(e);if(t){if(SERVER.USER.role===u.K$.ADMIN)return!0;if(!t.get("enable_editor_advanced_settings"))return!1;const n=e.account.user_profile.permissions;return n.includes(u._I.ACCESS_SAVED_TEMPLATES_AND_BRAND_KITS)||n.includes(u._I.ACCESS_WATERMARK)}return!1},oe=e=>{const t=S(e);if(t){if(SERVER.USER.role===u.K$.ADMIN)return!0;if(!t.get("enable_editor_advanced_settings"))return!1;const n=e.account.user_profile.permissions;return n.includes(u._I.ACCESS_SAVED_TEMPLATES_AND_BRAND_KITS)||n.includes(u._I.ACCESS_COLOUR_PALETTES)}return!1};function ue(e){return e.account.team_settings.purchased_seats}function ie(e){return e.account.team_settings.purchased_seat_ceiling}function ae(e){return e.account.team_settings.is_brand_kit_onboarded}function se(e){return new i.ZP(e.account.invitations).map((e=>e))}function ce(e){return e.account.invitationsIsLoading}function le(e){return e.account.user_profile.email}function de(e){return e.account.user_profile.loading}function fe(e){return e.account.user_profile.photo_url}function Re(e){return e.account.user_profile.is_staff}},49733:function(e,t,n){let r,o;n.d(t,{N:function(){return r}}),function(e){e.STORE_WORKSPACES="STORE_WORKSPACES",e.UPDATE_WORKSPACE="UPDATE_WORKSPACE",e.SET_WORKSPACE_SETTINGS="SET_WORKSPACE_SETTINGS",e.STORE_TEAM_MEMBERS="STORE_TEAM_MEMBERS",e.UPDATE_TEAM_MEMBER="UPDATE_TEAM_MEMBER",e.STORE_USER_PROFILE="STORE_USER_PROFILE",e.STORE_PROJECTS="STORE_PROJECTS",e.SET_PROJECTS_LOADING_INDICATOR="SET_PROJECTS_LOADING_INDICATOR",e.STORE_TEAM_SETTINGS="STORE_TEAM_SETTINGS",e.SET_INVITATIONS_LOADING="SET_INVITATIONS_LOADING",e.STORE_INVITATIONS="STORE_INVITATIONS",e.DELETE_INVITATION="DELETE_INVITATION",e.CREATE_INVITATION="CREATE_INVITATION",e.STORE_IS_BRAND_KIT_ONBOARDED="STORE_IS_BRAND_KIT_ONBOARDED"}(r||(r={})),function(e){e.PENDING="pending",e.ACCEPTED="accepted",e.CANCELLED="cancelled"}(o||(o={}))},54551:function(e,t,n){n.d(t,{Zf:function(){return a.Zf},qu:function(){return s.qu},Ml:function(){return a.Ml},RT:function(){return s.RT},i:function(){return a.i},ak:function(){return a.ak},Ur:function(){return c.Ur},MB:function(){return a.MB},ZP:function(){return R},Fh:function(){return c.Fh},XG:function(){return a.XG},zl:function(){return a.zl},FH:function(){return s.FH},Sp:function(){return s.Sp},aP:function(){return s.aP},vj:function(){return s.vj},c6:function(){return s.c6},E8:function(){return s.E8},T_:function(){return s.T_},ts:function(){return s.ts},ry:function(){return s.ry},uL:function(){return s.uL},cV:function(){return s.cV},j0:function(){return s.j0},Gv:function(){return s.Gv},R8:function(){return s.R8},ds:function(){return s.ds},Jf:function(){return s.Jf},eX:function(){return a.eX},Fq:function(){return s.Fq},D2:function(){return s.D2},CL:function(){return s.CL},V7:function(){return s.V7},si:function(){return s.si},cW:function(){return s.cW},Rm:function(){return s.Rm},$h:function(){return s.$h},C4:function(){return s.C4},bV:function(){return s.bV},M2:function(){return s.M2},rU:function(){return a.rU},c_:function(){return s.c_},sC:function(){return s.sC},l9:function(){return s.l9},Jr:function(){return s.Jr},dk:function(){return a.dk},ei:function(){return a.ei},cA:function(){return a.cA},C0:function(){return a.uL},Bv:function(){return a.Bv},Pf:function(){return a.Pf},SN:function(){return a.SN},Kf:function(){return a.Kf},hg:function(){return a.hg},kl:function(){return a.kl},WO:function(){return a.WO},Nk:function(){return a.Nk},$:function(){return a.$},ih:function(){return s.ih},Gt:function(){return s.Gt},Zb:function(){return s.Zb},xO:function(){return s.xO},xP:function(){return s.xP},EN:function(){return s.EN},Bp:function(){return s.Bp},yz:function(){return s.yz},Nm:function(){return s.Nm},ie:function(){return s.ie},e8:function(){return s.e8},b0:function(){return s.b0},q7:function(){return s.q7},EI:function(){return s.EI},Cp:function(){return s.Cp},PM:function(){return s.PM},p5:function(){return s.p5},Kg:function(){return s.Kg},vI:function(){return s.vI},gL:function(){return s.gL},ky:function(){return c.ky},I8:function(){return c.I8},pQ:function(){return c.pQ},WS:function(){return c.WS},HR:function(){return c.HR},YO:function(){return c.YO},RM:function(){return c.RM},$i:function(){return c.$i},ec:function(){return c.ec},D1:function(){return c.D1},lJ:function(){return s.lJ},aq:function(){return a.aq},Hn:function(){return a.Hn},cu:function(){return a.cu},zZ:function(){return c.zZ},Xx:function(){return a.Xx},Lj:function(){return a.Lj},Fv:function(){return a.Fv},UY:function(){return a.UY},ls:function(){return a.ls},Pd:function(){return a.Pd},ne:function(){return a.ne},eA:function(){return c.eA},ce:function(){return a.ce},mG:function(){return a.mG},gl:function(){return a.gl}});var r=n(14890),o=n(35369),u=n(36062),i=n(45970),a=n(31478),s=n(35849),c=(n(49733),n(59743));const l=(0,r.UY)({first_name:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return c.ec.match(t)?t.payload.first_name:e},last_name:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return c.ec.match(t)?t.payload.last_name:e},email:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return c.ec.match(t)?t.payload.email:e},user_id:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;return c.ec.match(t)?t.payload.user_id:e},photo_url:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return c.ec.match(t)?t.payload.photo_url:e},loading:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return!c.ec.match(t)&&e},role:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.K$.EDITOR,t=arguments.length>1?arguments[1]:void 0;return c.ec.match(t)?t.payload.role:e},has_email_auth:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return c.ec.match(t)?t.payload.has_email_auth:e},is_staff:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return c.ec.match(t)?t.payload.is_staff:e},enable_ai_voiceover:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return c.ec.match(t)?t.payload.enable_ai_voiceover:e},two_factor_activated:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return c.ec.match(t)?t.payload.two_factor_activated:e},user_projects:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default.List(),t=arguments.length>1?arguments[1]:void 0;return c.ec.match(t)?t.payload.user_projects:e},permissions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default.List(),t=arguments.length>1?arguments[1]:void 0;return c.ec.match(t)?t.payload.permissions:e}}),d=(0,r.UY)({mfa_required:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return c.$i.match(t)?t.payload.mfa_required:e},can_request_video_approval:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return c.$i.match(t)?t.payload.can_request_video_approval:e},purchased_seats:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return c.$i.match(t)?t.payload.purchased_seats:e},purchased_seat_ceiling:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return c.$i.match(t)?t.payload.purchased_seat_ceiling:e},is_brand_kit_onboarded:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return c.$i.match(t)||c.YO.match(t)?t.payload.is_brand_kit_onboarded:e},saved_templates_count:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0;return c.$i.match(t)?t.payload.saved_templates_count:e}}),f=(0,r.UY)({workspaces:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.ZP.newFromIdPrefix("workspace").data,t=arguments.length>1?arguments[1]:void 0;if(c.D1.match(t)){const n=t.payload.workspaces.sort(((e,t)=>e.name.localeCompare(t.name))),r=new i.ZP(e);return r.delete(r.getAllIds()),n.forEach((e=>{r.pushJSItem(e,"id")})),r.data}if(c.pQ.match(t)){const n=new i.ZP(e);for(const e in t.payload.settings)n.updateById(t.payload.workspaceId,{value:t.payload.settings[e],key:e});return n.data}if(c.eA.match(t)){const n=new i.ZP(e),r=t.payload.workspace.set(i.$7,t.payload.workspaceId);return n.updateById(t.payload.workspaceId,{value:r,key:[]}),n.data}return e},team_members:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.ZP.newFromIdPrefix("team_member").data,t=arguments.length>1?arguments[1]:void 0;if(c.RM.match(t)){const n=t.payload.members.sort(((e,t)=>e.user.id===SERVER.USER.id?-1:t.user.id===SERVER.USER.id?1:0)),r=new i.ZP(e);return r.delete(r.getAllIds()),n.forEach((e=>{r.pushJSItem(e,"id")})),r.data}if(c.zZ.match(t)){const n=new i.ZP(e);return n.updateById(t.payload.profileId,{key:t.payload.key,value:t.payload.value}),n.data}return e},user_profile:l,projects:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.ZP.newFromIdPrefix("projects").data,t=arguments.length>1?arguments[1]:void 0;if(c.HR.match(t)){const n=t.payload.projects,r=new i.ZP(e);return r.delete(r.getAllIds()),n.forEach((e=>{r.pushJSItem(e,"id")})),r.data}return e},projects_loading_indicator:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return c.I8.match(t)?t.payload.isLoading:e},team_settings:d,invitations:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.ZP.newFromIdPrefix("invitations").data,t=arguments.length>1?arguments[1]:void 0;if(c.WS.match(t)){const n=new i.ZP(e);return n.delete(n.getAllIds()),t.payload.invitations.filter((e=>"pending"===e.get("status"))).forEach((e=>n.pushItem(e))),n.data}if(c.Fh.match(t)){const n=new i.ZP(e);return n.delete([t.payload.invitationOrmId]),n.data}if(c.Ur.match(t)){const n=new i.ZP(e);return n.pushJSItem(t.payload.invitation),n.data}return e},invitationsIsLoading:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return c.ky.match(t)?t.payload.isLoading:e}});var R=f},45970:function(e,t,n){n.d(t,{$7:function(){return a},ZP:function(){return f},oX:function(){return u}});var r=n(35369);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="byId",i="allIds",a="_id",s="idPrefix",c=new class{constructor(){o(this,"prefix_counters",void 0),this.prefix_counters={}}generateId(e){Object.prototype.hasOwnProperty.call(this.prefix_counters,e)||(this.prefix_counters[e]=0);const t=`${e}-${this.prefix_counters[e]}`;return this.prefix_counters[e]++,t}};let l,d;!function(e){e.asc="asc",e.desc="desc"}(l||(l={})),function(e){e.equals="===",e.not_equals="!=="}(d||(d={}));class f{constructor(e){o(this,"store",void 0),this.store=e}static newFromIdPrefix(e){const t={};t[u]={},t.allIds=[],t.idPrefix=e;const n=r.default.fromJS(t);return new f(n)}getById(e){return this.store.getIn([u,e])}getIdByIndex(e){return this.store.getIn([i,e])}getByIndex(e){return this.getById(this.getIdByIndex(e))}getAllIds(){return this.store.get(i)}updateAll(e){this.store.get(i).forEach((t=>{this.updateById(t,e)}))}updateById(e,t){if(this.contains(e)){const n=[u,e].concat(t.key),r=this._evaluate_value(t,n);if(!0===t.removeFromList){const e=this.store.getIn(n).indexOf(r);e>=0&&(this.store=this.store.setIn(n,this.store.getIn(n).delete(e)))}else this.store=this.store.setIn(n,r)}}delete(e){this.containsOneOf(e)&&(this.store=this.store.update(i,(t=>t.filter((t=>-1===e.indexOf(t))))),e.forEach((e=>{this.store=this.store.deleteIn([u,e])})))}query(e){const t=e.evaluator?e.evaluator:d.equals;let n=this.filter((n=>{if(t===d.equals)return n.getIn(e.key)===e.value;if(t===d.not_equals)return n.getIn(e.key)!==e.value;throw Error(`unknown evaluator: ${t}`)}));if(e.orderBy){const t=e.orderBy.direction===l.desc;n=n.sort(((n,r)=>{const o=n.getIn(e.orderBy.key),u=r.getIn(e.orderBy.key);return t?u-o:o-u}))}return e.valuesList?n.map((t=>t.getIn(e.valuesList))):n}pushJSItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this.pushItem(r.default.fromJS(e),t)}pushJSItemToFront(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this.pushItemToFront(r.default.fromJS(e),t)}pushItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n="";return void 0!==t&&void 0!==e.get(t)?n=e.get(t):(n=c.generateId(this.store.get(s)),e=e.set(a,n)),this.store=this.store.setIn([u,n],e).update(i,(e=>(e.includes(n)||(e=e.push(n)),e))),n}pushItemToFront(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n="";return void 0!==t&&void 0!==e.get(t)?n=e.get(t):(n=c.generateId(this.store.get(s)),e=e.set(a,n)),this.store=this.store.setIn([u,n],e).update(i,(e=>(e=e.filter((e=>e!==n)),this._ensure_is_immutable_list([n,...e])))),n}forEachByIds(e,t){return e.forEach(((e,n)=>t(this.getById(e),n)))}mapByIds(e,t){const n=e.map(((e,n)=>t(this.getById(e),n)));return this._ensure_is_immutable_list(n)}filterByIds(e,t){const n=e.filter(((e,n)=>{const r=this.getById(e);return t(r,n)})).map((e=>this.getById(e)));return this._ensure_is_immutable_list(n)}filter(e){return this.filterByIds(this.store.get(i),e)}find(e){const t=this.filter(e);if(t.size>0)return t.get(0)}forEach(e){this.forEachByIds(this.store.get(i),e)}map(e){return this.mapByIds(this.store.get(i),e)}isEmpty(){return 0===this.length}containsOneOf(e){const t={};try{e.forEach((e=>{if(this.contains(e))throw t}))}catch(e){if(e===t)return!0;throw e}return!1}contains(e){return void 0!==this.store.getIn([u,e])}indexOf(e){return this.store.get(i).indexOf(e)}_evaluate_value(e,t){let n=e.value;return!0!==e.store_function&&"function"==typeof n&&(n=n(this.store.getIn(t))),n}_ensure_is_immutable_list(e){return r.default.List.isList(e)?e:r.default.List(e)}get length(){return this.store.get(i).size}get data(){return this.store}}}}]);
//# sourceMappingURL=4551-0a0b3c5c36efb6e24462.js.map